var n=[{id:"1",checkedElem:!1,todo:"Added Email Templates",assignedto:[{assigneeName:"Curtis Saenz",assigneeImg:"build/images/users/avatar-1.jpg"},{assigneeName:"John Robles",assigneeImg:"build/images/users/avatar-3.jpg"}],dueDate:"03 Apr, 2022",status:"Inprogress",priority:"High"},{id:"2",checkedElem:!1,todo:"Additional Mailbox",assignedto:[{assigneeName:"Virgie Price",assigneeImg:"build/images/users/avatar-5.jpg"},{assigneeName:"Diego Norris",assigneeImg:"build/images/users/avatar-9.jpg"},{assigneeName:"Anthony Mills",assigneeImg:"build/images/users/avatar-10.jpg"}],dueDate:"02 Apr, 2022",status:"Pending",priority:"Medium"},{id:"3",checkedElem:!0,todo:"Make a creating an account profile",assignedto:[{assigneeName:"Virgie Price",assigneeImg:"build/images/users/avatar-5.jpg"},{assigneeName:"Marian Angel",assigneeImg:"build/images/users/avatar-6.jpg"},{assigneeName:"Johnnie Walton",assigneeImg:"build/images/users/avatar-7.jpg"},{assigneeName:"Donna Weston",assigneeImg:"build/images/users/avatar-8.jpg"}],dueDate:"02 May, 2022",status:"Completed",priority:"Low"},{id:"4",checkedElem:!1,todo:"Added new tabs styles",assignedto:[{assigneeName:"James Forbes",assigneeImg:"build/images/users/avatar-2.jpg"}],dueDate:"01 May, 2022",status:"New",priority:"Low"},{id:"5",checkedElem:!1,todo:"Added bdge new style - gradient",assignedto:[{assigneeName:"John Robles",assigneeImg:"build/images/users/avatar-3.jpg"},{assigneeName:"Anthony Mills",assigneeImg:"build/images/users/avatar-10.jpg"},{assigneeName:"Diego Norris",assigneeImg:"build/images/users/avatar-9.jpg"}],dueDate:"01 May, 2022",status:"Inprogress",priority:"Medium"},{id:"6",checkedElem:!1,todo:"Added Back to Top button",assignedto:[{assigneeName:"Marian Angel",assigneeImg:"build/images/users/avatar-6.jpg"},{assigneeName:"Johnnie Walton",assigneeImg:"build/images/users/avatar-7.jpg"}],dueDate:"30 Apr, 2022",status:"Inprogress",priority:"High"},{id:"7",checkedElem:!0,todo:"Added File Manager Apps",assignedto:[{assigneeName:"John Robles",assigneeImg:"build/images/users/avatar-3.jpg"},{assigneeName:"Mary Gant",assigneeImg:"build/images/users/avatar-4.jpg"},{assigneeName:"Virgie Price",assigneeImg:"build/images/users/avatar-5.jpg"}],dueDate:"29 Apr, 2022",status:"Completed",priority:"Medium"},{id:"8",checkedElem:!1,todo:"Datatable with jQuery cdn",assignedto:[{assigneeName:"Marian Angel",assigneeImg:"build/images/users/avatar-6.jpg"},{assigneeName:"Johnnie Walton",assigneeImg:"build/images/users/avatar-7.jpg"},{assigneeName:"Donna Weston",assigneeImg:"build/images/users/avatar-8.jpg"}],dueDate:"28 Apr, 2022",status:"Pending",priority:"High"},{id:"9",checkedElem:!1,todo:"Profile Page Structure",assignedto:[{assigneeName:"Mary Gant",assigneeImg:"build/images/users/avatar-4.jpg"},{assigneeName:"Virgie Price",assigneeImg:"build/images/users/avatar-5.jpg"}],dueDate:"27 Apr, 2022",status:"New",priority:"Low"},{id:"10",checkedElem:!0,todo:"Make a creating an account profile",assignedto:[{assigneeName:"John Robles",assigneeImg:"build/images/users/avatar-3.jpg"}],dueDate:"26 Apr, 2022",status:"Completed",priority:"Medium"},{id:"11",checkedElem:!0,todo:"Change email option process",assignedto:[{assigneeName:"John Robles",assigneeImg:"build/images/users/avatar-3.jpg"},{assigneeName:"Anthony Mills",assigneeImg:"build/images/users/avatar-10.jpg"},{assigneeName:"Diego Norris",assigneeImg:"build/images/users/avatar-9.jpg"}],dueDate:"25 Apr, 2022",status:"Completed",priority:"High"},{id:"12",checkedElem:!1,todo:"Brand Logo design",assignedto:[{assigneeName:"James Forbes",assigneeImg:"build/images/users/avatar-2.jpg"},{assigneeName:"Anthony Mills",assigneeImg:"build/images/users/avatar-10.jpg"},{assigneeName:"Diego Norris",assigneeImg:"build/images/users/avatar-9.jpg"}],dueDate:"25 Apr, 2022",status:"New",priority:"Medium"},{id:"13",checkedElem:!1,todo:"Add Dynamic Contact List",assignedto:[{assigneeName:"Virgie Price",assigneeImg:"build/images/users/avatar-5.jpg"},{assigneeName:"Marian Angel",assigneeImg:"build/images/users/avatar-6.jpg"},{assigneeName:"Johnnie Walton",assigneeImg:"build/images/users/avatar-7.jpg"},{assigneeName:"Donna Weston",assigneeImg:"build/images/users/avatar-8.jpg"}],dueDate:"24 Apr, 2022",status:"Inprogress",priority:"Low"},{id:"14",checkedElem:!0,todo:"Additional Calendar",assignedto:[{assigneeName:"Virgie Price",assigneeImg:"build/images/users/avatar-5.jpg"},{assigneeName:"Diego Norris",assigneeImg:"build/images/users/avatar-9.jpg"},{assigneeName:"Anthony Mills",assigneeImg:"build/images/users/avatar-10.jpg"}],dueDate:"23 Apr, 2022",status:"Completed",priority:"Medium"},{id:"15",checkedElem:!1,todo:"Added Select2",assignedto:[{assigneeName:"Curtis Saenz",assigneeImg:"build/images/users/avatar-1.jpg"},{assigneeName:"John Robles",assigneeImg:"build/images/users/avatar-3.jpg"}],dueDate:"23 Apr, 2022",status:"Pending",priority:"High"}],j=document.querySelectorAll(".createProject-form");Array.prototype.slice.call(j).forEach(function(t){t.addEventListener("submit",function(e){if(!t.checkValidity())e.preventDefault(),e.stopPropagation();else{e.preventDefault();var s=document.getElementById("projectname-input").value,a=Math.floor(Math.random()*100);if(projectlisthtml='<li id="projectlist-'+a+'">        <a data-bs-toggle="collapse" href="#projectCollapse-'+a+'" class="nav-link fs-13">'+s+'</a>        <div class="collapse" id="projectCollapse-'+a+'">            <ul class="mb-0 sub-menu list-unstyled ps-3 vstack gap-2 mb-2">                <li>                    <a href="#!"><i class="ri-stop-mini-fill align-middle fs-15 text-danger"></i> v1.0.0</a>                </li>            </ul>        </div>    </li>',s!==""){var i=document.getElementById("projectlist-data");i.insertAdjacentHTML("beforeend",projectlisthtml);var o=document.getElementById("addProjectBtn-close");o.click()}}t.classList.add("was-validated")},!1)});const w=document.getElementById("createProjectModal");w.addEventListener("show.bs.modal",t=>{document.getElementById("projectname-input").value="",document.querySelectorAll(".createProject-form").forEach(function(e){e.classList.remove("was-validated")})});var p=!1;flatpickr("#task-duedate-input",{dateFormat:"d M, Y"});Array.from(document.getElementsByClassName("createTask")).forEach(function(t){t.addEventListener("click",function(){document.getElementById("createTaskLabel").innerHTML="Create Task",document.getElementById("addNewTodo").innerHTML="Add Task",B()})});statusField=document.getElementById("task-status-input");var m=new Choices(statusField,{searchEnabled:!1});priorityField=document.getElementById("priority-field");var f=new Choices(priorityField,{searchEnabled:!1});Array.from(document.getElementsByClassName("select-element")).forEach(function(t){Array.from(t.querySelectorAll(".dropdown-menu ul li a")).forEach(function(e){e.addEventListener("click",function(){e.classList.toggle("active");var s=document.querySelectorAll(".select-element .dropdown-menu .dropdown-item.active");document.getElementById("total-assignee").innerHTML=s.length;var a=e.querySelector(".avatar-xxs img").getAttribute("src"),i=document.getElementById("assignee-member");if(e.classList.contains("active")){var o=e.querySelector(".flex-grow-1").innerHTML;folderlisthtml='<a href="javascript: void(0);" class="avatar-group-item mb-2" data-img="'+a+'"  data-bs-toggle="tooltip" data -bs-placement="top" title="'+o+'">                <img src="'+a+'" alt="" class="rounded-circle avatar-xs" />                </a>',i.insertAdjacentHTML("beforeend",folderlisthtml),k()}else Array.from(i.querySelectorAll(".avatar-group-item")).forEach(function(d){var r=d.getAttribute("data-img");a==r&&d.remove()})})})});document.getElementById("creattask-form").addEventListener("submit",function(t){t.preventDefault();var e=document.getElementById("task-title-input").value,s=document.getElementById("task-duedate-input").value,a=m.getValue(!0),i=f.getValue(!0),o=[],d=document.querySelectorAll(".select-element .dropdown-menu .dropdown-item.active"),r=document.getElementById("task-error-msg");r.style.display="block";var l;if(e.length==0)return l="Please enter task name",r.innerHTML=l,!1;if(d.length==0)return l="Please select team member",r.innerHTML=l,!1;if(a=="")return l="Please select task status",r.innerHTML=l,!1;if(i=="")return l="Please select task priority",r.innerHTML=l,!1;if(s.length==0)return l="Please select due date",r.innerHTML=l,!1;if(d.length>0&&Array.from(d).forEach(function(c){var h=c.querySelector(".avatar-xxs img").getAttribute("src"),M=c.querySelector(".flex-grow-1").innerHTML,b={};b.assigneeName=M,b.assigneeImg=h,o.push(b)}),e!==""&&a!==""&&i!==""&&!p){var g=N(),y={id:g,checkedElem:!1,todo:e,assignedto:o,dueDate:s,status:a,priority:i};n.push(y),I(),document.getElementById("createTaskBtn-close").click()}else if(e!==""&&a!==""&&i!==""&&p){var L=0;L=document.getElementById("taskid-input").value,n=n.map(function(c){if(c.id==L){m.getValue(!0)=="Completed"?c.checkedElem=!0:c.checkedElem=!1;var h={id:document.getElementById("taskid-input").value,checkedElem:c.checkedElem,todo:e,assignedto:o,dueDate:s,status:a,priority:i};return h}return c}),p=!1,document.getElementById("createTaskBtn-close").click()}return u(n),!0});function v(t){return parseInt(t.id)}function N(){if(n.length===0)return 0;var t=v(n[n.length-1]),e=v(n[0]);return e>=t?e+1:t+1}function B(){document.getElementById("task-title-input").value="",document.getElementById("task-duedate-input").value="",document.getElementById("total-assignee").innerHTML="0",Array.from(document.querySelectorAll(".select-element .dropdown-menu .dropdown-item.active")).forEach(function(e){e.classList.remove("active")}),Array.from(document.querySelectorAll("#assignee-member .avatar-group-item")).forEach(function(e){e.remove()});var t=document.getElementById("task-error-msg");t.style.display="none",m.removeActiveItems(),m.setChoiceByValue("New"),f.removeActiveItems(),f.setChoiceByValue("")}document.getElementById("createTask").addEventListener("hidden.bs.modal",t=>{B()});function I(){var t=n.sort(function(e,s){var a=v(e),i=v(s);return a>i?-1:a<i?1:0});u(t)}function S(){var t=n.sort(function(e,s){var a=e.todo.toLowerCase(),i=s.todo.toLowerCase();return a<i?-1:a>i?1:0});u(t)}var A=document.getElementById("searchTaskList");A.addEventListener("keyup",function(){var t=A.value.toLowerCase();function e(a,i){return a.filter(function(o){return o.todo.toLowerCase().indexOf(i.toLowerCase())!==-1})}var s=e(n,t);s.length==0?(document.getElementById("noresult").style.display="block",document.getElementById("todo-task").style.display="none"):(document.getElementById("noresult").style.display="none",document.getElementById("todo-task").style.display="block"),u(s)});function x(t){function e(){document.getElementById("elmLoader").innerHTML="",T(t)}e()}var D=dragula([document.getElementById("task-list")],{moves:function(t,e,s){return s.classList.contains("task-handle")}});autoScroll([document.querySelector("#todo-content")],{margin:20,maxSpeed:100,scrollWhenOutside:!0,autoScroll:function(){return this.down&&D.dragging}});function T(t){document.getElementById("task-list").innerHTML="",Array.from(t).forEach(function(e){var s=e.checkedElem?"checked":"",a=e.assignedto,i=3,o='<div class="avatar-group flex-nowrap">';if(Array.from(a.slice(0,i)).forEach(function(r){o+='<a href="javascript: void(0);" class="avatar-group-item" data-img="'+r.assigneeImg+'"  data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="'+r.assigneeName+'">                <img src="'+r.assigneeImg+'" alt="" class="rounded-circle avatar-xxs" />            </a>'}),a.length>i){var d=a.length-i;o+='<a href="javascript: void(0);" class="avatar-group-item"  data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="'+d+' More">            <div class="avatar-xxs">            <div class="avatar-title rounded-circle">'+d+"+</div>            </div>        </a>"}o+="</div>",document.getElementById("task-list").innerHTML+='<tr>            <td>                <div class="d-flex align-items-start">                    <div class="flex-shrink-0 me-3">                        <div class="task-handle px-1 bg-light rounded">: :</div>                    </div>                    <div class="flex-grow-1">                        <div class="form-check">                            <input class="form-check-input" type="checkbox" value="'+e.id+'" id="todo'+e.id+'" '+s+'>                            <label class="form-check-label" for="todo'+e.id+'">'+e.todo+"</label>                        </div>                    </div>                </div>            </td>            <td>"+o+"</td>            <td>"+e.dueDate+"</td>            <td>"+H(e.status)+"</td>            <td>"+P(e.priority)+'</td>            <td>            <div class="hstack gap-2">                <button class="btn btn-sm btn-soft-danger remove-list" data-bs-toggle="modal" data-bs-target="#removeTaskItemModal" data-remove-id='+e.id+'><i class="ri-delete-bin-5-fill align-bottom"></i></button>                <button class="btn btn-sm btn-soft-info edit-list" data-bs-toggle="modal" data-bs-target="#createTask" data-edit-id='+e.id+'><i class="ri-pencil-fill align-bottom"></i></button>            </div>            </td>        </tr>',V(),F(),q(),k()})}var E=!1,C=document.getElementsByClassName("file-manager-sidebar");Array.from(document.querySelectorAll(".file-menu-btn")).forEach(function(t){t.addEventListener("click",function(){Array.from(C).forEach(function(e){e.classList.add("menubar-show"),E=!0})})});window.addEventListener("click",function(t){document.querySelector(".file-manager-sidebar").classList.contains("menubar-show")&&(E||document.querySelector(".file-manager-sidebar").classList.remove("menubar-show"),E=!1)});function k(){var t=document.querySelectorAll('[data-bs-toggle="tooltip"]');[...t].map(e=>new bootstrap.Tooltip(e))}function H(t){switch(t){case"Pending":return'<span class="badge bg-warning-subtle text-warning text-uppercase">'+t+"</span>";case"Inprogress":return'<span class="badge bg-secondary-subtle text-secondary text-uppercase">'+t+"</span>";case"Completed":return'<span class="badge bg-success-subtle text-success text-uppercase">'+t+"</span>";case"New":return'<span class="badge bg-info-subtle text-info text-uppercase">'+t+"</span>"}}function P(t){switch(t){case"High":return'<span class="badge bg-danger text-uppercase">'+t+"</span>";case"Low":return'<span class="badge bg-success text-uppercase">'+t+"</span>";case"Medium":return'<span class="badge bg-warning text-uppercase">'+t+"</span>"}}function q(){Array.from(document.querySelectorAll("#task-list tr")).forEach(function(t){t.querySelector(".form-check .form-check-input").addEventListener("change",function(){var e=this.value;this.checked?n=n.map(function(s){return s.id==e&&(s.checkedElem=!0,s.status="Completed"),s}):n=n.map(function(s){return s.id==e&&(s.checkedElem=!1,s.status="Inprogress"),s}),u(n)})})}function V(){var t=0;Array.from(document.querySelectorAll(".edit-list")).forEach(function(e){e.addEventListener("click",function(s){t=e.getAttribute("data-edit-id"),n=n.map(function(a){if(a.id==t){p=!0,document.getElementById("createTaskLabel").innerHTML="Edit Task",document.getElementById("addNewTodo").innerHTML="Save",document.getElementById("taskid-input").value=a.id,document.getElementById("task-title-input").value=a.todo,flatpickr("#task-duedate-input",{dateFormat:"d M, Y",defaultDate:a.dueDate});var i=new DOMParser().parseFromString(a.status,"text/html").body;m.setChoiceByValue(i.innerHTML);var o=new DOMParser().parseFromString(a.priority,"text/html").body;f.setChoiceByValue(o.innerHTML),Array.from(document.querySelectorAll(".select-element .dropdown-menu ul li a")).forEach(function(r){var l=r.querySelector(".flex-grow-1").innerHTML;a.assignedto.map(function(g){if(g.assigneeName==l){r.classList.add("active");var y=document.getElementById("assignee-member");r.classList.contains("active")&&(folderlisthtml='<a href="javascript: void(0);" class="avatar-group-item mb-2" data-img="'+g.assigneeImg+'"  data-bs-toggle="tooltip" data -bs-placement="top" data-bs-title="'+g.assigneeName+'">                                    <img src="'+g.assigneeImg+'" alt="" class="rounded-circle avatar-xs" />                                    </a>',y.insertAdjacentHTML("beforeend",folderlisthtml),k())}return r})});var d=document.querySelectorAll(".select-element .dropdown-menu .dropdown-item.active").length;document.getElementById("total-assignee").innerHTML=d}return a})})})}function F(){var t=0;Array.from(document.querySelectorAll(".remove-list")).forEach(function(e){e.addEventListener("click",function(s){t=e.getAttribute("data-remove-id"),document.getElementById("remove-todoitem").addEventListener("click",function(){function a(o,d){return o.filter(function(r){return r.id!=d})}var i=a(n,t);n=i,u(n),document.getElementById("close-removetodomodal").click()})})})}var J=new Choices(document.getElementById("choices-select-status"),{searchEnabled:!1});J.passedElement.element.addEventListener("change",function(t){var e=t.detail.value;if(t.detail.value){var s=n.filter(a=>a.status==e);s.length==0?(document.getElementById("noresult").style.display="block",document.getElementById("todo-task").style.display="none"):(document.getElementById("noresult").style.display="none",document.getElementById("todo-task").style.display="block")}else var s=n;u(s)},!1);var W=new Choices(document.getElementById("choices-select-sortlist"),{searchEnabled:!1});W.passedElement.element.addEventListener("change",function(t){var e=t.detail.value;if(e=="By ID")I();else if(e=="By Name")S();else{var s=n;u(s)}},!1);function u(t){x(t)}window.onload=function(){I()};
