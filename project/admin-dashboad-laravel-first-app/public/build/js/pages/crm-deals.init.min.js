new Cleave("#contactNumber",{delimiters:["(",")","-"],blocks:[0,3,3,4]});var f=function(l){var n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=new Date(l),e=""+n[t.getMonth()],a=""+t.getDate(),c=t.getFullYear();return e.length<2&&(e="0"+e),a.length<2&&(a="0"+a),[a+" "+e,c].join(", ")};form=document.getElementById("deals-form");form.addEventListener("submit",function(i){if(i.preventDefault(),!form.checkValidity())i.preventDefault(),form.classList.add("was-validated");else{var l=document.getElementById("dealTitle").value,n=document.getElementById("dealValue").value,t=document.getElementById("deatType").value,e=document.getElementById("dealOwner").value,a=document.getElementById("dueDate").value,c=document.getElementById("contactNumber").value,m=document.getElementById("dealEmail").value,v=document.getElementById("contactDescription").value,d=e.split(" "),r=null;if(d.length>=2){var o=d[0].slice(0,1),u=d[1].slice(0,1);r=o+u}else{var o=d[0].slice(0,1);r=o}var b='<div class="flex-shrink-0 avatar-xs me-2"><div class="avatar-title bg-success-subtle text-success rounded-circle fs-13">'+r+"</div></div>",g=`<div class="card">
                            <div class="card-body">
                                <a class="d-flex align-items-center" data-bs-toggle="collapse" href="#`+l+`" role="button" aria-expanded="false" aria-controls="leadDiscovered1">
                                    <div class="flex-shrink-0">
                                        `+b+`
                                    </div>
                                    <div class="flex-grow-1 ms-3">
                                        <h6 class="fs-14 mb-1">`+l+`</h6>
                                        <p class="text-muted mb-0">$`+n+" - "+f(a)+`</p>
                                    </div>
                                </a>
                            </div>
                            <div class="collapse border-top border-top-dashed" id="`+l+`">
                                <div class="card-body">
                                    <h6 class="fs-14 mb-1">`+e+` <small class="badge bg-danger-subtle text-danger">4 Days</small></h6>
                                    <p class="text-muted">`+v+`</p>
                                    <ul class="list-unstyled vstack gap-2 mb-0">
                                        <li>
                                            <div class="d-flex">
                                                <div class="flex-shrink-0 avatar-xxs text-muted">
                                                    <i class="ri-question-answer-line"></i>
                                                </div>
                                                <div class="flex-grow-1">
                                                    <h6 class="mb-0">Meeting with Thomas</h6>
                                                    <small class="text-muted">Yesterday at 9:12AM</small>
                                                </div>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="d-flex">
                                                <div class="flex-shrink-0 avatar-xxs text-muted">
                                                    <i class="ri-mac-line"></i>
                                                </div>
                                                <div class="flex-grow-1">
                                                    <h6 class="mb-0">Product Demo</h6>
                                                    <small class="text-muted">Monday at 04:41PM</small>
                                                </div>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="d-flex">
                                                <div class="flex-shrink-0 avatar-xxs text-muted">
                                                    <i class="ri-earth-line"></i>
                                                </div>
                                                <div class="flex-grow-1">
                                                    <h6 class="mb-0">Marketing Team Meeting</h6>
                                                    <small class="text-muted">Monday at 04:41PM</small>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                <div class="card-footer hstack gap-2">
                                    <button class="btn btn-warning btn-sm w-100" data-bs-toggle="tooltip" data-bs-placement="top" title="`+c+`"><i class="ri-phone-line align-bottom me-1"></i> Call</button>
                                    <button class="btn btn-info btn-sm w-100" data-bs-toggle="tooltip" data-bs-placement="top" title="`+m+`"><i class="ri-question-answer-line align-bottom me-1"></i>
                                        Message</button>
                                </div>
                            </div>
                        </div>`;let s;switch(t){case"Lead Disovered":s="leadDiscovered";break;case"Contact Initiated":s="contactInitiated";break;case"Need Identified":s="needsIdentified";break;case"Meeting Arranged":s="meetingArranged";break;case"Offer Accepted":s="offerAccepted";break}document.getElementById("close-modal").click(),document.getElementById(s).innerHTML+=g,form.reset(),Swal.fire({title:"Success!",text:"Deal Inserted successfully in "+t+" Tab.",icon:"success",showCancelButton:!0,confirmButtonClass:"btn btn-primary w-xs me-2 mt-2",cancelButtonClass:"btn btn-danger w-xs mt-2",buttonsStyling:!1,showCloseButton:!0})}});
