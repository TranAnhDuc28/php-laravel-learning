var b="build/json/",r="",o=document.getElementById("page-prev"),m=document.getElementById("page-next"),s=1,c=8,y=function(e,a){var n=new XMLHttpRequest;n.open("GET",b+e,!0),n.responseType="json",n.onload=function(){var t=n.status;a(t===200?null:t,n.response)},n.send()};y("job-candidate-list.json",function(e,a){e!==null?console.log("Something went wrong: "+e):(r=a,d(r,s),x())});function d(e,a){var n=Math.ceil(e.length/c);a<1&&(a=1),a>n&&(a=n),document.querySelector("#candidate-list").innerHTML="";for(var t=(a-1)*c;t<a*c&&t<e.length;t++)if(e[t]){var i=e[t].bookmark?"active":"",l=e[t].userImg?'<img src="'+e[t].userImg+'" alt="" class="member-img img-fluid d-block rounded" />':'<div class="avatar-title border bg-light text-primary rounded text-uppercase fs-16">'+e[t].nickname+"</div>";document.querySelector("#candidate-list").innerHTML+='<div class="col-md-6 col-lg-12">        <div class="card mb-0">            <div class="card-body">                <div class="d-lg-flex align-items-center">                    <div class="flex-shrink-0">                        <div class="avatar-sm rounded">'+l+'</div>                    </div>                    <div class="ms-lg-3 my-3 my-lg-0">                        <a href="pages-profile"><h5 class="fs-16 mb-2">'+e[t].candidateName+'</h5></a>                        <p class="text-muted mb-0">'+e[t].designation+'</p>                    </div>                    <div class="d-flex gap-4 mt-0 text-muted mx-auto">                        <div><i class="ri-map-pin-2-line text-primary me-1 align-bottom"></i> '+e[t].location+'</div>                        <div><i class="ri-time-line text-primary me-1 align-bottom"></i> '+L(e[t].type)+'</div>                    </div>                    <div class="d-flex flex-wrap gap-2 align-items-center mx-auto my-3 my-lg-0">                        <div class="badge text-bg-success">                            <i class="mdi mdi-star me-1"></i>'+e[t].rating[0]+'                        </div>                        <div class="text-muted">'+e[t].rating[1]+'</div>                    </div>                    <div>                        <a href="#!" class="btn btn-soft-success">View Details</a>                        <a href="#!" class="btn btn-ghost-danger btn-icon custom-toggle '+i+'" data-bs-toggle="button">                            <span class="icon-on"><i class="ri-bookmark-line align-bottom"></i></span>                            <span class="icon-off"><i class="ri-bookmark-3-fill align-bottom"></i></span>                        </a>                    </div>                </div>            </div>        </div>    </div>'}p(),s==1?o.parentNode.classList.add("disabled"):o.parentNode.classList.remove("disabled"),s==n?m.parentNode.classList.add("disabled"):m.parentNode.classList.remove("disabled")}function L(e){switch(e){case"Part Time":return'<span class="badge bg-danger-subtle text-danger">'+e+"</span>";case"Full Time":return'<span class="badge bg-success-subtle text-success">'+e+"</span>";case"Freelancer":return'<span class="badge bg-secondary-subtle text-secondary">'+e+"</span>"}}function p(){for(var e=document.getElementById("page-num").getElementsByClassName("clickPageNumber"),a=0;a<e.length;a++)a==s-1?e[a].parentNode.classList.add("active"):e[a].parentNode.classList.remove("active")}function x(){var e=function(){return Math.ceil(r.length/c)};function a(){document.addEventListener("click",function(t){t.target.nodeName=="A"&&t.target.classList.contains("clickPageNumber")&&(s=t.target.textContent,d(r,s))})}function n(){var t=document.getElementById("page-num");t.innerHTML="";for(var i=1;i<e()+1;i++)t.innerHTML+="<div class='page-item'><a class='page-link clickPageNumber' href='javascript:void(0);'>"+i+"</a></div>"}o.addEventListener("click",function(){s>1&&(s--,d(r,s))}),m.addEventListener("click",function(){s<e()&&(s++,d(r,s))}),n(),a(),p()}var v=document.getElementById("searchJob");v.addEventListener("keyup",function(){var e=v.value.toLowerCase();function a(f,g){return f.filter(function(u){return u.designation.toLowerCase().indexOf(g.toLowerCase())!==-1||u.candidateName.toLowerCase().indexOf(g.toLowerCase())!==-1})}var n=a(r,e);n.length==0?document.getElementById("pagination-element").style.display="none":document.getElementById("pagination-element").style.display="flex";var t=document.getElementById("page-num");t.innerHTML="";for(var i=Math.ceil(n.length/c),l=1;l<i+1;l++)t.innerHTML+="<div class='page-item'><a class='page-link clickPageNumber' href='javascript:void(0);'>"+l+"</a></div>";d(n,s)});
