var f="build/json/",c="",m=document.getElementById("page-prev"),g=document.getElementById("page-next"),i=1,r=8,y=function(e,n){var s=new XMLHttpRequest;s.open("GET",f+e,!0),s.responseType="json",s.onload=function(){var t=s.status;n(t===200?null:t,s.response)},s.send()};y("job-grid-list.json",function(e,n){e!==null?console.log("Something went wrong: "+e):(c=n,u(c,i),h())});function u(e,n){var s=Math.ceil(e.length/r);n<1&&(n=1),n>s&&(n=s),document.querySelector("#job-list").innerHTML="",i==1?(r=7,document.querySelector("#job-list").insertAdjacentHTML("afterbegin",`<div class="col-lg-3 col-md-6" id="job-widget">        <div class="card card-height-100 bg-info bg-job">            <div class="card-body p-5">                <h2 class="lh-base text-white">Velzon invites young professionals for an intership!</h2>                <p class="text-white text-opacity-75 mb-0 fs-14">Don't miss your opportunity to improve your skills!</p>                <div class="mt-5 pt-2">                    <button type="button" class="btn btn-light w-100">View More <i class="ri-arrow-right-line align-bottom"></i></button>                </div>            </div>        </div>    </div>`)):r=8;for(var t=(n-1)*r;t<n*r&&t<e.length;t++){var o="";e[t]&&Array.from(e[t].requirement).forEach(function(a,v){var l="";a&&(a=="Full Time"?l="bg-success-subtle text-success":a=="Freelance"?l="bg-primary-subtle text-primary":a=="Urgent"?l="bg-danger-subtle text-danger":a=="Part Time"?l="bg-warning-subtle text-warning":a=="Private"?l="bg-info-subtle text-info":l="bg-success-subtle text-success"),o+='<span class="badge '+l+'">'+a+"</span>"}),e[t]&&(document.querySelector("#job-list").innerHTML+='<div class="col-lg-3 col-md-6">        <div class="card">            <div class="card-body">                <button type="button" class="btn btn-icon btn-soft-primary float-end" data-bs-toggle="button" aria-pressed="true"><i class="mdi mdi-cards-heart fs-16"></i></button>                <div class="avatar-sm mb-4">                    <div class="avatar-title bg-light rounded">                        <img src="'+e[t].companyLogo+'" alt="" class="avatar-xxs" />                    </div>                </div>                <a href="#!"><h5>'+e[t].jobTitle+'</h5></a>                <p class="text-muted">'+e[t].companyName+'</p>                <div class="d-flex gap-4 mb-3">                    <div><i class="ri-map-pin-2-line text-primary me-1 align-bottom"></i> '+e[t].location+'</div>                    <div><i class="ri-time-line text-primary me-1 align-bottom"></i> '+e[t].postDate+'</div>                </div>                <p class="text-muted">'+e[t].description+'</p>                <div class="hstack gap-2">'+o+'</div>                <div class="mt-4 hstack gap-2">                    <a href="#!" class="btn btn-soft-primary w-100">Apply Job</a>                    <a href="apps-job-details" class="btn btn-soft-success w-100">Overview</a>                </div>            </div>        </div>    </div>')}document.getElementById("total-result").innerHTML=e.length,p();var d=document.getElementById("searchJob");d.addEventListener("keyup",function(){var a=d.value.toLowerCase();a.length>0?document.getElementById("job-widget").style.display="none":document.getElementById("job-widget").style.display="block"}),e.length>0?document.getElementById("job-widget")&&(document.getElementById("job-widget").style.display="block"):document.getElementById("job-widget")&&(document.getElementById("job-widget").style.display="none"),i==1?m.parentNode.classList.add("disabled"):m.parentNode.classList.remove("disabled"),i==s?g.parentNode.classList.add("disabled"):g.parentNode.classList.remove("disabled")}function p(){for(var e=document.getElementById("page-num").getElementsByClassName("clickPageNumber"),n=0;n<e.length;n++)n==i-1?e[n].parentNode.classList.add("active"):e[n].parentNode.classList.remove("active")}function h(){var e=function(){return Math.ceil(c.length/r)};function n(){document.addEventListener("click",function(t){t.target.nodeName=="A"&&t.target.classList.contains("clickPageNumber")&&(i=t.target.textContent,u(c,i))})}function s(){var t=document.getElementById("page-num");t.innerHTML="";for(var o=1;o<e()+1;o++)t.innerHTML+="<div class='page-item'><a class='page-link clickPageNumber' href='javascript:void(0);'>"+o+"</a></div>"}m.addEventListener("click",function(){i>1&&(i--,u(c,i))}),g.addEventListener("click",function(){i<e()&&(i++,u(c,i))}),s(),n(),p()}var b=document.getElementById("searchJob");b.addEventListener("keyup",function(){var e=b.value.toLowerCase();function n(a,v){return a.filter(function(l){return l.jobTitle.toLowerCase().indexOf(v.toLowerCase())!==-1})}var s=n(c,e);s.length==0?document.getElementById("pagination-element").style.display="none":document.getElementById("pagination-element").style.display="flex";var t=document.getElementById("page-num");t.innerHTML="";for(var o=Math.ceil(s.length/r),d=1;d<o+1;d++)t.innerHTML+="<div class='page-item'><a class='page-link clickPageNumber' href='javascript:void(0);'>"+d+"</a></div>";u(s,i)});
