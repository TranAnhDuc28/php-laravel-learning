var l=[{id:1,product:{img:"build/images/products/img-1.png",title:"Half Sleeve Round Neck T-Shirts",category:"Fashion"},stock:"12",price:"215.00",orders:"48",rating:"4.2",published:{publishDate:"12 Oct, 2021",publishTime:"10:05 AM"}},{id:2,product:{img:"build/images/products/img-2.png",title:"Urban Ladder Pashe Chair",category:"Furniture"},stock:"06",price:"160.00",orders:"30",rating:"4.3",published:{publishDate:"06 Jan, 2021",publishTime:"01:31 PM"}},{id:3,product:{img:"build/images/products/img-3.png",title:"350 ml Glass Grocery Container",category:"Grocery"},stock:"10",price:"125.00",orders:"48",rating:"4.5",published:{publishDate:"26 Mar, 2021",publishTime:"11:40 AM"}},{id:4,product:{img:"build/images/products/img-4.png",title:"Fabric Dual Tone Living Room Chair",category:"Furniture"},stock:"15",price:"340.00",orders:"40",rating:"4.2",published:{publishDate:"19 Apr, 2021",publishTime:"02:51 PM"}},{id:5,product:{img:"build/images/products/img-5.png",title:"Crux Motorsports Helmet",category:"Automotive Accessories"},stock:"08",price:"175.00",orders:"55",rating:"4.4",published:{publishDate:"30 Mar, 2021",publishTime:"09:42 AM"}},{id:6,product:{img:"build/images/products/img-6.png",title:"Half Sleeve T-Shirts (Blue)",category:"Fashion"},stock:"15",price:"225.00",orders:"48",rating:"4.2",published:{publishDate:"12 Oct, 2021",publishTime:"04:55 PM"}},{id:7,product:{img:"build/images/products/img-7.png",title:"Noise Evolve Smartwatch",category:"Watches"},stock:"12",price:"105.00",orders:"45",rating:"4.3",published:{publishDate:"15 May, 2021",publishTime:"03:40 PM"}},{id:8,product:{img:"build/images/products/img-8.png",title:"Sweatshirt for Men (Pink)",category:"Fashion"},stock:"20",price:"120.00",orders:"48",rating:"4.2",published:{publishDate:"21 Jun, 2021",publishTime:"12:18 PM"}},{id:9,product:{img:"build/images/products/img-9.png",title:"Reusable Ecological Coffee Cup",category:"Grocery"},stock:"14",price:"325.00",orders:"55",rating:"4.3",published:{publishDate:"15 Jan, 2021",publishTime:"10:29 PM"}},{id:10,product:{img:"build/images/products/img-10.png",title:"Travel Carrying Pouch Bag",category:"Kids"},stock:"20",price:"180.00",orders:"60",rating:"4.3",published:{publishDate:"15 Jun, 2021",publishTime:"03:51 PM"}},{id:11,product:{img:"build/images/products/img-1.png",title:"Half Sleeve Round Neck T-Shirts",category:"Fashion"},stock:"12",price:"215.00",orders:"48",rating:"4.2",published:{publishDate:"12 Oct, 2021",publishTime:"10:05 AM"}},{id:12,product:{img:"build/images/products/img-2.png",title:"Urban Ladder Pashe Chair",category:"Furniture"},stock:"06",price:"160.00",orders:"30",rating:"4.3",published:{publishDate:"06 Jan, 2021",publishTime:"01:31 PM"}}],p=sessionStorage.getItem("inputValue");p&&(p=JSON.parse(p),Array.from(p).forEach(e=>{l.unshift(e)}));var u=sessionStorage.getItem("editInputValue");u&&(u=JSON.parse(u),l=l.map(function(e){return e.id==u.id?u:e}));document.getElementById("addproduct-btn").addEventListener("click",function(){sessionStorage.setItem("editInputValue","")});var g=new gridjs.Grid({columns:[{name:"#",width:"40px",sort:{enabled:!1},data:function(e){return gridjs.html('<div class="form-check checkbox-product-list">					<input class="form-check-input" type="checkbox" value="'+e.id+'" id="checkbox-'+e.id+'">					<label class="form-check-label" for="checkbox-'+e.id+'"></label>				  </div>')}},{name:"Product",width:"360px",data:function(e){return gridjs.html('<div class="d-flex align-items-center"><div class="flex-shrink-0 me-3"><div class="avatar-sm bg-light rounded p-1"><img src="'+e.product.img+'" alt="" class="img-fluid d-block"></div></div><div class="flex-grow-1"><h5 class="fs-14 mb-1"><a href="apps-ecommerce-product-details" class="text-body">'+e.product.title+'</a></h5><p class="text-muted mb-0">Category : <span class="fw-medium">'+e.product.category+"</span></p></div></div>")}},{name:"Stock",width:"94px"},{name:"Price",width:"101px",formatter:function(e){return gridjs.html("$"+e)}},{name:"Orders",width:"84px"},{name:"Rating",width:"105px",formatter:function(e){return gridjs.html('<span class="badge bg-light text-body fs-12 fw-medium"><i class="mdi mdi-star text-warning me-1"></i>'+e+"</span></td>")}},{name:"Published",width:"220px",data:function(e){return gridjs.html(e.published.publishDate+'<small class="text-muted ms-1">'+e.published.publishTime+"</small>")}},{name:"Action",width:"80px",sort:{enabled:!1},formatter:function(e,i){var t=new DOMParser().parseFromString(i._cells[0].data.props.content,"text/html").body.querySelector(".checkbox-product-list .form-check-input").value;return gridjs.html('<div class="dropdown"><button class="btn btn-soft-secondary btn-sm dropdown" type="button" data-bs-toggle="dropdown" aria-expanded="false"><i class="ri-more-fill"></i></button><ul class="dropdown-menu dropdown-menu-end"><li><a class="dropdown-item" href="apps-ecommerce-product-details"><i class="ri-eye-fill align-bottom me-2 text-muted"></i> View</a></li><li><a class="dropdown-item edit-list" data-edit-id='+t+' href="apps-ecommerce-add-product"><i class="ri-pencil-fill align-bottom me-2 text-muted"></i> Edit</a></li><li class="dropdown-divider"></li><li><a class="dropdown-item remove-list" href="#" data-id='+t+' data-bs-toggle="modal" data-bs-target="#removeItemModal"><i class="ri-delete-bin-fill align-bottom me-2 text-muted"></i> Delete</a></li></ul></div>')}}],className:{th:"text-muted"},pagination:{limit:10},sort:!0,data:l}).render(document.getElementById("table-product-list-all")),o=[{id:1,product:{img:"build/images/products/img-2.png",title:"Urban Ladder Pashe Chair",category:"Furniture"},stock:"06",price:"160.00",orders:"30",rating:"4.3",published:{publishDate:"06 Jan, 2021",publishTime:"01:31 PM"}},{id:2,product:{img:"build/images/products/img-6.png",title:"Half Sleeve T-Shirts (Blue)",category:"Fashion"},stock:"15",price:"125.00",orders:"48",rating:"4.2",published:{publishDate:"12 Oct, 2021",publishTime:"04:55 PM"}},{id:3,product:{img:"build/images/products/img-4.png",title:"Fabric Dual Tone Living Room Chair",category:"Furniture"},stock:"15",price:"140.00",orders:"40",rating:"4.2",published:{publishDate:"19 Apr, 2021",publishTime:"02:51 PM"}},{id:4,product:{img:"build/images/products/img-4.png",title:"350 ml Glass Grocery Container",category:"Grocery"},stock:"10",price:"125.00",orders:"48",rating:"4.5",published:{publishDate:"26 Mar, 2021",publishTime:"11:40 AM"}},{id:5,product:{img:"build/images/products/img-5.png",title:"Crux Motorsports Helmet",category:"Automotive Accessories"},stock:"08",price:"135.00",orders:"55",rating:"4.4",published:{publishDate:"30 Mar, 2021",publishTime:"09:42 AM"}}],f=new gridjs.Grid({columns:[{name:"#",width:"40px",sort:{enabled:!1},formatter:function(e){return gridjs.html('<div class="form-check checkbox-product-list">					<input class="form-check-input" type="checkbox" value="'+e+'" id="checkboxpublished-'+e+'">					<label class="form-check-label" for="checkbox-'+e+'"></label>				  </div>')}},{name:"Product",width:"360px",data:function(e){return gridjs.html('<div class="d-flex align-items-center"><div class="flex-shrink-0 me-3"><div class="avatar-sm bg-light rounded p-1"><img src="'+e.product.img+'" alt="" class="img-fluid d-block"></div></div><div class="flex-grow-1"><h5 class="fs-14 mb-1"><a href="apps-ecommerce-product-details" class="text-body">'+e.product.title+'</a></h5><p class="text-muted mb-0">Category : <span class="fw-medium">'+e.product.category+"</span></p></div></div>")}},{name:"Stock",width:"94px"},{name:"Price",width:"101px",formatter:function(e){return gridjs.html("$"+e)}},{name:"Orders",width:"84px"},{name:"Rating",width:"105px",formatter:function(e){return gridjs.html('<span class="badge bg-light text-body fs-12 fw-medium"><i class="mdi mdi-star text-warning me-1"></i>'+e+"</span></td>")}},{name:"Published",width:"220px",data:function(e){return gridjs.html(e.published.publishDate+'<small class="text-muted ms-1">'+e.published.publishTime+"</small>")}},{name:"Action",width:"80px",sort:{enabled:!1},formatter:function(e,i){return gridjs.html('<div class="dropdown"><button class="btn btn-soft-secondary btn-sm dropdown" type="button" data-bs-toggle="dropdown" aria-expanded="false"><i class="ri-more-fill"></i></button><ul class="dropdown-menu dropdown-menu-end"><li><a class="dropdown-item" href="apps-ecommerce-product-details"><i class="ri-eye-fill align-bottom me-2 text-muted"></i> View</a></li><li><a class="dropdown-item" href="apps-ecommerce-add-product"><i class="ri-pencil-fill align-bottom me-2 text-muted"></i> Edit</a></li><li class="dropdown-divider"></li><li><a class="dropdown-item remove-list" href="#" data-id='+i._cells[0].data+' data-bs-toggle="modal" data-bs-target="#removeItemModal"><i class="ri-delete-bin-fill align-bottom me-2 text-muted"></i> Delete</a></li></ul></div>')}}],className:{th:"text-muted"},pagination:{limit:10},sort:!0,data:o}).render(document.getElementById("table-product-list-published")),E=document.getElementById("searchProductList");E.addEventListener("keyup",function(){var e=E.value.toLowerCase();function i(a,d){return a.filter(function(s){return s.product.title.toLowerCase().indexOf(d.toLowerCase())!==-1})}var t=i(l,e),r=i(o,e);g.updateConfig({data:t}).forceRender(),f.updateConfig({data:r}).forceRender(),x()});Array.from(document.querySelectorAll(".filter-list a")).forEach(function(e){e.addEventListener("click",function(){var i=document.querySelector(".filter-list a.active");i&&i.classList.remove("active"),e.classList.add("active");var t=e.querySelector(".listname").innerHTML,r=l.filter(d=>d.product.category===t),a=o.filter(d=>d.product.category===t);g.updateConfig({data:r}).forceRender(),f.updateConfig({data:a}).forceRender(),x()})});var h=document.getElementById("product-price-range");noUiSlider.create(h,{start:[0,2e3],step:10,margin:20,connect:!0,behaviour:"tap-drag",range:{min:0,max:2e3},format:wNumb({decimals:0,prefix:"$ "})});var y=document.getElementById("minCost"),k=document.getElementById("maxCost"),S="",I="";h.noUiSlider.on("update",function(e,i){var t=l,r=o;i?k.value=e[i]:y.value=e[i];var a=k.value.substr(2),d=y.value.substr(2);S=t.filter(s=>parseFloat(s.price)>=d&&parseFloat(s.price)<=a),I=r.filter(s=>parseFloat(s.price)>=d&&parseFloat(s.price)<=a),g.updateConfig({data:S}).forceRender(),f.updateConfig({data:I}).forceRender(),x()});y.addEventListener("change",function(){h.noUiSlider.set([null,this.value])});k.addEventListener("change",function(){h.noUiSlider.set([null,this.value])});var m=new Choices(document.getElementById("filter-choices-input"),{addItems:!0,delimiter:",",editItems:!0,maxItemCount:10,removeItems:!0,removeItemButton:!0});Array.from(document.querySelectorAll(".filter-accordion .accordion-item")).forEach(function(e){var i=e.querySelectorAll(".filter-check .form-check .form-check-input:checked").length;e.querySelector(".filter-badge").innerHTML=i,Array.from(e.querySelectorAll(".form-check .form-check-input")).forEach(function(t){var r=t.value;t.checked&&m.setValue([r]),t.addEventListener("click",function(a){t.checked?(i++,e.querySelector(".filter-badge").innerHTML=i,i>0?e.querySelector(".filter-badge").style.display="block":e.querySelector(".filter-badge").style.display="none",m.setValue([r])):m.removeActiveItemsByValue(r)}),m.passedElement.element.addEventListener("removeItem",function(a){a.detail.value==r&&(t.checked=!1,i--,e.querySelector(".filter-badge").innerHTML=i,i>0?e.querySelector(".filter-badge").style.display="block":e.querySelector(".filter-badge").style.display="none")},!1),document.getElementById("clearall").addEventListener("click",function(){t.checked=!1,m.removeActiveItemsByValue(r),i=0,e.querySelector(".filter-badge").innerHTML=i,i>0?e.querySelector(".filter-badge").style.display="block":e.querySelector(".filter-badge").style.display="none",g.updateConfig({data:l}).forceRender(),f.updateConfig({data:o}).forceRender()})})});var w=document.getElementById("searchBrandsList");w.addEventListener("keyup",function(){var e=w.value.toLowerCase(),i=document.querySelectorAll("#flush-collapseBrands .form-check");Array.from(i).forEach(function(t){var r=t.getElementsByClassName("form-check-label")[0].innerText.toLowerCase();t.style.display=r.includes(e)?"block":"none"})});var c=0;function x(){var e=document.querySelectorAll('a[data-bs-toggle="tab"]');Array.from(e).forEach(function(i){i.addEventListener("show.bs.tab",function(t){c=0,document.getElementById("selection-element").style.display="none"})}),setTimeout(function(){Array.from(document.querySelectorAll(".checkbox-product-list input")).forEach(function(i){i.addEventListener("click",function(t){t.target.checked==!0?t.target.closest("tr").classList.add("gridjs-tr-selected"):t.target.closest("tr").classList.remove("gridjs-tr-selected");var r=document.querySelectorAll(".checkbox-product-list input:checked");c=r.length,t.target.closest("tr").classList.contains("gridjs-tr-selected"),document.getElementById("select-content").innerHTML=c,c>0?document.getElementById("selection-element").style.display="block":document.getElementById("selection-element").style.display="none"})}),T(),C()},100)}var M=document.querySelectorAll(".checkbox-wrapper-mail input");function T(){var e=document.getElementById("removeItemModal");e.addEventListener("show.bs.modal",function(i){c=0,document.getElementById("delete-product").addEventListener("click",function(){Array.from(document.querySelectorAll(".gridjs-table tr")).forEach(function(t){var r="";if(t.classList.contains("gridjs-tr-selected")){let n=function(b,v){return b.filter(function(A){return A.id!=v})};var s=n,a=t.querySelector(".form-check-input").value,r=n(l,a),d=n(o,a);l=r,o=d,t.remove()}}),document.getElementById("btn-close").click(),document.getElementById("selection-element")&&(document.getElementById("selection-element").style.display="none"),M.checked=!1})})}function C(){var e=0;Array.from(document.querySelectorAll(".remove-list")).forEach(function(t){t.addEventListener("click",function(r){e=t.getAttribute("data-id"),document.getElementById("delete-product").addEventListener("click",function(){function a(L,b){return L.filter(function(v){return v.id!=b})}var d=a(l,e),s=a(o,e);l=d,o=s;var n=t.closest(".gridjs-tr");n.remove()})})});var i=0;Array.from(document.querySelectorAll(".edit-list")).forEach(function(t){t.addEventListener("click",function(r){i=t.getAttribute("data-edit-id"),l=l.map(function(a){return a.id==i&&sessionStorage.setItem("editInputValue",JSON.stringify(a)),a})})})}
