function h(e){if(document.getElementById(e)!==null){var t=document.getElementById(e).getAttribute("data-colors");return t=JSON.parse(t),t.map(function(n){var l=n.replace(" ","");if(l.indexOf(",")===-1){var i=getComputedStyle(document.documentElement).getPropertyValue(l);return i||l}else{var o=n.split(",");if(o.length==2){var r=getComputedStyle(document.documentElement).getPropertyValue(o[0]);return r="rgba("+r+","+o[1]+")",r}else return l}})}}var m=h("simple_dount_chart");if(m){var L={series:[27.01,20.87,33.54,37.58],chart:{height:330,type:"donut"},legend:{position:"bottom"},labels:["Documents","Media","Others","Free Space"],dataLabels:{dropShadow:{enabled:!1}},colors:m},w=new ApexCharts(document.querySelector("#simple_dount_chart"),L);w.render()}var I="build/json/",d="",c=!1,B=function(e,t){var n=new XMLHttpRequest;n.open("GET",I+e,!0),n.responseType="json",n.onload=function(){var l=n.status;t(l===200?null:l,n.response)},n.send()};B("filemanager-filelist.json",function(e,t){e!==null?console.log("Something went wrong: "+e):(d=t,s(d))});function s(e){document.querySelector("#file-list").innerHTML="",Array.from(e).forEach(function(t,n){var l;if(t.fileName.includes(".")){let a=function(f){switch(f){case"png":return'<i class="ri-gallery-fill align-bottom text-success"></i>';case"jpg":return'<i class="ri-gallery-fill align-bottom text-success"></i>';case"pdf":return'<i class="ri-file-pdf-fill align-bottom text-danger"></i>';case"docx":return'<i class="ri-file-text-fill align-bottom text-secondary"></i>';case"txt":return'<i class="ri-file-text-fill align-bottom text-secondary"></i>';default:return'<i class="ri-file-text-fill align-bottom text-secondary"></i>'}};var r=a,i=t.fileName.split(".");l=a(i[1])}else l='<i class="ri-folder-2-fill align-bottom text-warning"></i>';var o=t.starred?"active":"";document.querySelector("#file-list").innerHTML+='<tr>        <td>            <input class="form-control filelist-id" type="hidden" value="'+t.id+'" id="filelist-'+t.id+'">            <div class="d-flex align-items-center">                <div class="flex-shrink-0 fs-17 me-2 filelist-icon">'+l+'</div>                <div class="flex-grow-1 filelist-name">'+t.fileName+'</div>                <div class="d-none filelist-type">'+t.filetype+"</div>            </div>        </td>        <td>"+t.fileItem+'</td>        <td class="filelist-size">'+t.fileSize+'</td>        <td class="filelist-create">'+t.date+'</td>        <td>          <div class="d-flex gap-3 justify-content-center">            <button type="button" class="btn btn-ghost-primary btn-icon btn-sm favourite-btn '+o+'">                  <i class="ri-star-fill fs-13 align-bottom"></i>            </button>            <div class="dropdown">              <button class="btn btn-light btn-icon btn-sm dropdown" type="button" data-bs-toggle="dropdown" aria-expanded="false">              <i class="ri-more-fill align-bottom"></i>              </button>              <ul class="dropdown-menu dropdown-menu-end">                <li><a class="dropdown-item viewfile-list" href="#">View</a></li>                <li><a class="dropdown-item edit-list" href="#createFileModal" data-bs-toggle="modal" data-edit-id='+t.id+' role="button">Rename</a></li>                <li class="dropdown-divider"></li>                <li><a class="dropdown-item remove-list" href="#removeFileItemModal" data-id='+t.id+' data-bs-toggle="modal" role="button">Delete</a></li>              </ul>            </div>          </div>        </td>      </tr>',g(),q(),A(),x()})}function g(){Array.from(document.querySelectorAll(".favourite-btn")).forEach(function(e){e.addEventListener("click",function(){e.classList.contains("active")?e.classList.remove("active"):e.classList.add("active")})})}g();Array.from(document.querySelectorAll(".file-manager-menu a")).forEach(function(e){e.addEventListener("click",function(){var t=document.querySelector(".file-manager-menu a.active");t&&t.classList.remove("active"),e.classList.add("active");var n=e.querySelector(".file-list-link").innerHTML;if(document.getElementById("file-list").innerHTML="",n!="My Drive"?document.getElementById("filetype-title").innerHTML=n:document.getElementById("filetype-title").innerHTML="Recent file",n!="My Drive"&&n!="Important"&&n!="Recents"){var l=d.filter(i=>i.filetype===n);document.getElementById("folder-list").style.display="none"}else if(n=="Important"){var l=d.filter(o=>o.starred==!0);document.getElementById("folder-list").style.display="none"}else{var l=d;document.getElementById("folder-list").style.display="block"}n=="Recents"&&(document.getElementById("folder-list").style.display="none"),s(l)})});var S=document.querySelectorAll(".createfolder-form");Array.prototype.slice.call(S).forEach(function(e){e.addEventListener("submit",function(t){if(!e.checkValidity())t.preventDefault(),t.stopPropagation();else{t.preventDefault();var n=document.getElementById("foldername-input").value,l=Math.floor(Math.random()*100);if(folderlisthtml='<div class="col-xxl-3 col-sm-6 folder-card">        <div class="card bg-light shadow-none" id="folder-'+l+'">            <div class="card-body">                <div class="d-flex mb-1">                    <div class="form-check form-check-danger mb-3 fs-15 flex-grow-1">                        <input class="form-check-input" type="checkbox" value="" id="folderlistCheckbox_'+l+'">                        <label class="form-check-label" for="folderlistCheckbox_'+l+'"></label>                    </div>                    <div class="dropdown">                        <button class="btn btn-ghost-primary btn-icon btn-sm dropdown" type="button" data-bs-toggle="dropdown" aria-expanded="false">                            <i class="ri-more-2-fill fs-16 align-bottom"></i>                        </button>                        <ul class="dropdown-menu dropdown-menu-end">                            <li><a class="dropdown-item view-item-btn" href="javascript:void(0);">Open</a></li>                            <li><a class="dropdown-item edit-folder-list" href="#createFolderModal" data-bs-toggle="modal" role="button">Rename</a></li>                            <li><a class="dropdown-item" href="#removeFolderModal" data-bs-toggle="modal" role="button">Delete</a></li>                        </ul>                    </div>                </div>                <div class="text-center">                <div class="mb-2">                    <i class="ri-folder-2-fill align-bottom text-warning display-5"></i>                </div>                    <h6 class="fs-15 folder-name">'+n+'</h6>                </div>                <div class="hstack mt-4 text-muted">                    <span class="me-auto"><b>0</b> Files</span>                    <span><b>0</b>GB</span>                </div>            </div>        </div>    </div>',n!==""&&!c){var i=document.getElementById("folderlist-data");i.insertAdjacentHTML("afterbegin",folderlisthtml);var o=document.getElementById("addFolderBtn-close");o.click(),p()}else if(n!==""&&c){var r=0;r=document.getElementById("folderid-input").value,document.getElementById(r).querySelector(".folder-name").innerHTML=n;var o=document.getElementById("addFolderBtn-close");o.click(),c=!1,document.getElementById("addNewFolder").innerHTML="Add Folder",document.getElementById("createFolderModalLabel").innerHTML="Create Folder",document.getElementById("folderid-input").value="",document.getElementById("foldername-input").value=""}document.getElementById("folderid-input").value="",document.getElementById("foldername-input").value=""}e.classList.add("was-validated")},!1)});function p(){Array.from(document.querySelectorAll(".folder-card")).forEach(function(e){Array.from(e.querySelectorAll(".edit-folder-list")).forEach(function(t){t.addEventListener("click",function(n){var l=e.querySelector(".card").getAttribute("id"),i=l.split("-")[1],o=e.querySelector(".form-check .form-check-input").getAttribute("id"),r=o.split("_")[1];i==r&&(c=!0,document.getElementById("addNewFolder").innerHTML="Save",document.getElementById("createFolderModalLabel").innerHTML="Folder Rename",document.getElementById("folderid-input").value="folder-"+i,document.getElementById("foldername-input").value=e.querySelector(".folder-name").innerHTML)})})})}p();var v=document.getElementById("removeFolderModal");v&&v.addEventListener("show.bs.modal",function(e){document.getElementById("remove-folderList").addEventListener("click",function(t){e.relatedTarget.closest(".folder-card").remove(),document.getElementById("close-removeFoldermodal").click()})});var M=new Date().toUTCString().slice(5,16);function A(){var e=0;Array.from(document.querySelectorAll(".edit-list")).forEach(function(t){t.addEventListener("click",function(n){e=t.getAttribute("data-edit-id"),d=d.map(function(l){return l.id==e&&(c=!0,document.getElementById("addNewFile").innerHTML="Save",document.getElementById("createFileModalLabel").innerHTML="File Rename",document.getElementById("filename-input").value=l.fileName,document.getElementById("fileid-input").value=l.id),l})})})}Array.from(document.querySelectorAll(".createFile-modal")).forEach(function(e){e.addEventListener("click",function(t){document.getElementById("addNewFile").innerHTML="Create",document.getElementById("createFileModalLabel").innerHTML="Create File",document.getElementById("filename-input").value="",document.getElementById("fileid-input").value="",document.getElementById("createfile-form").classList.remove("was-validated")})});Array.from(document.querySelectorAll(".create-folder-modal")).forEach(function(e){e.addEventListener("click",function(t){document.getElementById("addNewFolder").innerHTML="Add Folder",document.getElementById("createFolderModalLabel").innerHTML="Create Folder",document.getElementById("folderid-input").value="",document.getElementById("foldername-input").value="",document.getElementById("createfolder-form").classList.remove("was-validated")})});var F=document.querySelectorAll(".createfile-form");Array.prototype.slice.call(F).forEach(function(e){e.addEventListener("submit",function(t){if(!e.checkValidity())t.preventDefault(),t.stopPropagation();else{t.preventDefault();var n=document.getElementById("filename-input").value,l=Math.floor(Math.random()*100);if(n!==""&&!c){var i={id:l,fileName:n+".txt",filetype:"Documents",fileItem:"01",fileSize:"0 KB",date:M,starred:!1};d.push(i),k(),document.getElementById("addFileBtn-close").click()}else if(n!==""&&c){var o=0;o=document.getElementById("fileid-input").value,d=d.map(function(r){if(r.id==o){var a={id:r.id,fileName:document.getElementById("filename-input").value,filetype:r.filetype,fileItem:r.fileItem,fileSize:r.fileSize,date:r.date,starred:r.starred};return a}return r}),c=!1,document.getElementById("addFileBtn-close").click()}s(d),document.getElementById("addNewFile").innerHTML="Create",document.getElementById("createFileModalLabel").innerHTML="Create File"}e.classList.add("was-validated")},!1)});function y(e){return parseInt(e.id)}function k(){var e=d.sort(function(t,n){var l=y(t),i=y(n);return l>i?-1:l<i?1:0});s(e)}function q(){var e=0;Array.from(document.querySelectorAll(".remove-list")).forEach(function(t){t.addEventListener("click",function(n){e=t.getAttribute("data-id"),document.getElementById("remove-fileitem").addEventListener("click",function(){function l(o,r){return o.filter(function(a){return a.id!=r})}var i=l(d,e);d=i,s(d),document.getElementById("close-removefilemodal").click(),document.getElementById("file-overview").style.display="none",document.getElementById("folder-overview").style.display="block"})})})}function x(){var e=document.getElementsByTagName("body")[0];Array.from(document.querySelectorAll(".close-btn-overview")).forEach(function(l){l.addEventListener("click",function(){e.classList.remove("file-detail-show")})}),Array.from(document.querySelectorAll("#file-list tr")).forEach(function(l){l.querySelector(".viewfile-list").addEventListener("click",function(){e.classList.add("file-detail-show"),document.getElementById("file-overview").style.display="block",document.getElementById("folder-overview").style.display="none";var i=l.querySelector(".filelist-id").value,o=l.querySelector(".filelist-icon i").className,r=l.querySelector(".filelist-name").innerHTML,a=l.querySelector(".filelist-size").innerHTML,f=l.querySelector(".filelist-create").innerHTML,b=l.querySelector(".filelist-type").innerHTML;document.querySelector("#file-overview .file-icon i").className=o,Array.from(document.querySelectorAll("#file-overview .file-name")).forEach(function(u){u.innerHTML=r}),Array.from(document.querySelectorAll("#file-overview .file-size")).forEach(function(u){u.innerHTML=a}),Array.from(document.querySelectorAll("#file-overview .create-date")).forEach(function(u){u.innerHTML=f}),document.querySelector("#file-overview .file-type").innerHTML=b,document.querySelector("#file-overview .remove-file-overview").setAttribute("data-remove-id",i),l.querySelector(".favourite-btn").classList.contains("active")?document.querySelector("#file-overview .favourite-btn").classList.add("active"):document.querySelector("#file-overview .favourite-btn").classList.remove("active")})});var t=!1,n=document.getElementsByClassName("file-manager-sidebar");Array.from(document.querySelectorAll(".file-menu-btn")).forEach(function(l){l.addEventListener("click",function(){Array.from(n).forEach(function(i){i.classList.add("menubar-show"),t=!0})})}),window.addEventListener("click",function(l){document.querySelector(".file-manager-sidebar").classList.contains("menubar-show")&&(t||document.querySelector(".file-manager-sidebar").classList.remove("menubar-show"),t=!1)})}function T(){var e=0;Array.from(document.querySelectorAll(".remove-file-overview")).forEach(function(t){t.addEventListener("click",function(n){e=t.getAttribute("data-remove-id"),document.getElementById("remove-fileitem").addEventListener("click",function(){var l="";function i(o,r){return o.filter(function(a){return a.id!=r})}l=i(d,e),d=l,s(d),document.getElementById("close-removefilemodal").click(),document.getElementsByTagName("body")[0].classList.remove("file-detail-show")})})})}T();function E(){var e=document.documentElement.clientWidth;e<1400?document.body.classList.remove("file-detail-show"):document.body.classList.add("file-detail-show")}E();window.addEventListener("resize",E);
