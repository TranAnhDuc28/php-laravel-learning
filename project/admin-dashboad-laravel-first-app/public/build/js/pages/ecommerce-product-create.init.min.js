itemid=13;ClassicEditor.create(document.querySelector("#ckeditor-classic")).then(function(n){n.ui.view.editable.element.style.height="200px"}).catch(function(n){console.error(n)});var u=document.querySelector("#dropzone-preview-list");u.itemid="";var I=u.parentNode.innerHTML;u.parentNode.removeChild(u);new Dropzone(".dropzone",{url:"https://httpbin.org/post",method:"post",previewTemplate:I,previewsContainer:"#dropzone-preview"});(function(){var n=document.querySelectorAll(".needs-validation"),s=new Date().toUTCString().slice(5,16);function a(){var r=new Date().getHours()>=12?"PM":"AM",t=new Date().getHours()>12?new Date().getHours()%12:new Date().getHours(),i=new Date().getMinutes()<10?"0"+new Date().getMinutes():new Date().getMinutes();return t<10?"0"+t+":"+i+" "+r:t+":"+i+" "+r}setInterval(a,1e3),document.querySelector("#product-image-input").addEventListener("change",function(){var r=document.querySelector("#product-img"),t=document.querySelector("#product-image-input").files[0],i=new FileReader;i.addEventListener("load",function(){r.src=i.result},!1),t&&i.readAsDataURL(t)});var y=new Choices("#choices-category-input",{searchEnabled:!1}),e=sessionStorage.getItem("editInputValue");if(e){var e=JSON.parse(e);document.getElementById("formAction").value="edit",document.getElementById("product-id-input").value=e.id,document.getElementById("product-img").src=e.product.img,document.getElementById("product-title-input").value=e.product.title,document.getElementById("stocks-input").value=e.stock,document.getElementById("product-price-input").value=e.price,document.getElementById("orders-input").value=e.orders,y.setChoiceByValue(e.product.category)}Array.prototype.slice.call(n).forEach(function(r){r.addEventListener("submit",function(t){if(!r.checkValidity())t.preventDefault(),t.stopPropagation();else{t.preventDefault(),itemid++;var i=itemid,d=document.getElementById("product-title-input").value,c=y.getValue(!0),l=document.getElementById("stocks-input").value,p=document.getElementById("orders-input").value,m=document.getElementById("product-price-input").value,g=document.getElementById("product-img").src,f=document.getElementById("formAction").value;if(f=="add")if(sessionStorage.getItem("inputValue")!=null){var o=JSON.parse(sessionStorage.getItem("inputValue")),v={id:i+1,product:{img:g,title:d,category:c},stock:l,price:m,orders:p,rating:"--",published:{publishDate:s,publishTime:a()}};o.push(v),sessionStorage.setItem("inputValue",JSON.stringify(o))}else{var o=[],v={id:i,product:{img:g,title:d,category:c},stock:l,price:m,orders:p,rating:"--",published:{publishDate:s,publishTime:a()}};o.push(v),sessionStorage.setItem("inputValue",JSON.stringify(o))}else if(f=="edit"){var h=document.getElementById("product-id-input").value;if(sessionStorage.getItem("editInputValue")){var w={id:parseInt(h),product:{img:g,title:d,category:c},stock:l,price:m,orders:p,rating:e.rating,published:{publishDate:s,publishTime:a()}};sessionStorage.setItem("editInputValue",JSON.stringify(w))}}else console.log("Form Action Not Found.");return window.location.replace("apps-ecommerce-products"),!1}r.classList.add("was-validated")},!1)})})();
