var M="build/json/",c="",p=document.getElementById("page-prev"),d=document.getElementById("page-next"),t=1,s=16,S=function(e,a){var o=new XMLHttpRequest;o.open("GET",M+e,!0),o.responseType="json",o.onload=function(){var n=o.status;a(n===200?null:n,o.response)},o.send()};S("job-companies-list.json",function(e,a){e!==null?console.log("Something went wrong: "+e):(c=a,l(c,t),b())});function l(e,a){var o=Math.ceil(e.length/s);a<1&&(a=1),a>o&&(a=o),document.querySelector("#companies-list").innerHTML="";for(var n=(a-1)*s;n<a*s&&n<e.length;n++)e[n]&&(document.querySelector("#companies-list").innerHTML+='<div class="col-xxl-3 col-md-6">    <div class="card companiesList-card">        <div class="card-body">            <div class="avatar-sm mx-auto">                <div class="avatar-title bg-light rounded">                    <img src="'+e[n].companyLogo+'" alt="" class="avatar-xxs companyLogo-img">                </div>            </div>            <div class="text-center">                <a href="#!">                    <h5 class="mt-3 company-name">'+e[n].companyName+'</h5>                </a>                <div class="d-none company-desc">'+e[n].companyDesc+'</div>                <p class="text-muted industry-type">'+e[n].industryType+'</p>                <div class="d-none">                    <span class="employee">'+e[n].employee+'</span>                    <span class="location">'+e[n].location+'</span>                    <span class="rating">'+e[n].rating+'</span>                    <span class="website">'+e[n].website+'</span>                    <span class="email">'+e[n].email+'</span>                    <span class="since">'+e[n].since+'</span>                </div>            </div>            <div>                <button type="button" class="btn btn-soft-primary w-100 viewcompany-list"><span class="vacancy">'+e[n].vacancy+"</span> Jobs Available</button>            </div>        </div>    </div></div>");g(),t==1?p.parentNode.classList.add("disabled"):p.parentNode.classList.remove("disabled"),t==o?d.parentNode.classList.add("disabled"):d.parentNode.classList.remove("disabled"),H()}function g(){for(var e=document.getElementById("page-num").getElementsByClassName("clickPageNumber"),a=0;a<e.length;a++)a==t-1?e[a].parentNode.classList.add("active"):e[a].parentNode.classList.remove("active")}function b(){var e=function(){return Math.ceil(c.length/s)};function a(){document.addEventListener("click",function(n){n.target.nodeName=="A"&&n.target.classList.contains("clickPageNumber")&&(t=n.target.textContent,l(c,t))})}function o(){var n=document.getElementById("page-num");n.innerHTML="";for(var r=1;r<e()+1;r++)n.innerHTML+="<div class='page-item'><a class='page-link clickPageNumber' href='javascript:void(0);'>"+r+"</a></div>"}p.addEventListener("click",function(){t>1&&(t--,l(c,t))}),d.addEventListener("click",function(){t<e()&&(t++,l(c,t))}),o(),a(),g()}function H(){Array.from(document.querySelectorAll("#companies-list .companiesList-card")).forEach(function(e){e.querySelector(".viewcompany-list").addEventListener("click",function(){var a=e.querySelector(".companyLogo-img").src,o=e.querySelector(".company-name").innerHTML,n=e.querySelector(".company-desc").innerHTML,r=e.querySelector(".industry-type").innerHTML,i=e.querySelector(".employee").innerHTML,u=e.querySelector(".location").innerHTML,v=e.querySelector(".rating").innerHTML,m=e.querySelector(".website").innerHTML,L=e.querySelector(".email").innerHTML,f=e.querySelector(".since").innerHTML,w=e.querySelector(".vacancy").innerHTML;document.querySelector("#company-overview .company-logo").src=a,document.querySelector("#company-overview .overview-companyname").innerHTML=o,document.querySelectorAll("#company-overview .overview-industryType").forEach(function(T){T.innerHTML=r}),document.querySelector("#company-overview .overview-companydesc").innerHTML=n,document.querySelector("#company-overview .overview-company_location").innerHTML=u,document.querySelector("#company-overview .overview-employee").innerHTML=i,document.querySelector("#company-overview .overview-vacancy").innerHTML=w,document.querySelector("#company-overview .overview-rating").innerHTML=v,document.querySelector("#company-overview .overview-website").innerHTML=m,document.querySelector("#company-overview .overview-email").innerHTML=L,document.querySelector("#company-overview .overview-since").innerHTML=f})})}var y=document.getElementById("searchCompany");y.addEventListener("keyup",function(){var e=y.value.toLowerCase();function a(u,v){return u.filter(function(m){return m.companyName.toLowerCase().indexOf(v.toLowerCase())!==-1||m.industryType.toLowerCase().indexOf(v.toLowerCase())!==-1})}var o=a(c,e);o.length==0?document.getElementById("pagination-element").style.display="none":document.getElementById("pagination-element").style.display="flex";var n=document.getElementById("page-num");n.innerHTML="";for(var r=Math.ceil(o.length/s),i=1;i<r+1;i++)n.innerHTML+="<div class='page-item'><a class='page-link clickPageNumber' href='javascript:void(0);'>"+i+"</a></div>";l(o,t)});flatpickr("#datepicker",{dateFormat:"d M, Y",defaultDate:new Date,maxDate:new Date});
