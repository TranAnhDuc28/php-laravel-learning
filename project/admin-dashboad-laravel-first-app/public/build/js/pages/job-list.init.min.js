function q(e){if(document.getElementById(e)!==null){var n=document.getElementById(e).getAttribute("data-colors");return n=JSON.parse(n),n.map(function(o){var t=o.replace(" ","");if(t.indexOf(",")===-1){var r=getComputedStyle(document.documentElement).getPropertyValue(t);return r||t}else{var a=o.split(",");if(a.length==2){var c=getComputedStyle(document.documentElement).getPropertyValue(a[0]);return c="rgba("+c+","+a[1]+")",c}else return t}})}}var L=q("simple_dount_chart");if(L){var x={series:[98,63,35],labels:["New Application","Approved","Rejected"],chart:{height:300,type:"donut"},legend:{position:"bottom"},dataLabels:{dropShadow:{enabled:!1}},colors:L},M=new ApexCharts(document.querySelector("#simple_dount_chart"),x);M.render()}var T="build/json/",l="",y=document.getElementById("page-prev"),f=document.getElementById("page-next"),i=1,m=3,N=function(e,n){var o=new XMLHttpRequest;o.open("GET",T+e,!0),o.responseType="json",o.onload=function(){var t=o.status;n(t===200?null:t,o.response)},o.send()};N("job-list.json",function(e,n){e!==null?console.log("Something went wrong: "+e):(l=n,u(l,i),H(),h())});function u(e,n){var o=Math.ceil(e.length/m);n<1&&(n=1),n>o&&(n=o),document.querySelector("#job-list").innerHTML="";for(var t=(n-1)*m;t<n*m&&t<e.length;t++){if(e[t]&&e[t].tags){var r=e[t].tags,a="";Array.from(r).forEach((c,s)=>{a+='<span class="badge bg-primary-subtle text-primary me-1">'+c+"</span>"})}e[t]&&(document.querySelector("#job-list").innerHTML+='<div class="card joblist-card">            <div class="card-body">                <div class="d-flex mb-4">                    <div class="avatar-sm">                        <div class="avatar-title bg-light rounded">                            <img src="'+e[t].companyLogo+'" alt="" class="avatar-xxs companyLogo-img">                        </div>                    </div>                    <div class="ms-3 flex-grow-1">                        <img src="'+e[t].coverImg+'" alt="" class="d-none cover-img">                        <a href="#!"><h5 class="job-title">'+e[t].jobTitle+'</h5></a>                        <p class="company-name text-muted mb-0">'+e[t].companyName+'</p>                    </div>                    <div>                        <button type="button" class="btn btn-ghost-primary btn-icon custom-toggle" data-bs-toggle="button">                            <span class="icon-on"><i class="ri-bookmark-line"></i></span>                            <span class="icon-off"><i class="ri-bookmark-fill"></i></span>                        </button>                    </div>                </div>                <p class="text-muted job-description">'+e[t].description+"</p>                <div>"+a+'</div>            </div>            <div class="card-footer border-top-dashed">                <div class="d-flex justify-content-between align-items-center flex-wrap gap-3">                    <div><i class="ri-briefcase-2-line align-bottom me-1"></i> <span class="job-type">'+e[t].type+'</span></div>                    <div class="d-none"><span class="job-experience">'+e[t].experience+'</span></div>                    <div><i class="ri-map-pin-2-line align-bottom me-1"></i>  <span class="job-location">'+e[t].location+'</span></div>                    <div><i class="ri-user-3-line align-bottom me-1"></i> '+e[t].applied+'</div>                    <div><i class="ri-time-line align-bottom me-1"></i> <span class="job-postdate">'+e[t].postDate+'</span></div>                    <div><a href="#!" class="btn btn-primary viewjob-list">View More <i class="ri-arrow-right-line align-bottom ms-1"></i></a></div>                </div>            </div>        </div>')}document.getElementById("total-result").innerHTML=e.length,j(),i==1?y.parentNode.classList.add("disabled"):y.parentNode.classList.remove("disabled"),i==o?f.parentNode.classList.add("disabled"):f.parentNode.classList.remove("disabled"),P()}function j(){for(var e=document.getElementById("page-num").getElementsByClassName("clickPageNumber"),n=0;n<e.length;n++)n==i-1?e[n].parentNode.classList.add("active"):e[n].parentNode.classList.remove("active")}function H(){var e=function(){return Math.ceil(l.length/m)};function n(){document.addEventListener("click",function(t){t.target.nodeName=="A"&&t.target.classList.contains("clickPageNumber")&&(i=t.target.textContent,u(l,i))})}function o(){var t=document.getElementById("page-num");t.innerHTML="";for(var r=1;r<e()+1;r++)t.innerHTML+="<div class='page-item'><a class='page-link clickPageNumber' href='javascript:void(0);'>"+r+"</a></div>"}y.addEventListener("click",function(){i>1&&(i--,u(l,i))}),f.addEventListener("click",function(){i<e()&&(i++,u(l,i))}),o(),n(),j()}var b=new Choices("#taginput-choices",{removeItemButton:!0});document.querySelector("#companylogo-image-input").addEventListener("change",function(){var e=document.querySelector("#companylogo-img"),n=document.querySelector("#companylogo-image-input").files[0],o=new FileReader;o.addEventListener("load",function(){e.src=o.result},!1),n&&o.readAsDataURL(n)});document.querySelector("#cover-image-input").addEventListener("change",function(){var e=document.querySelector("#modal-cover-img"),n=document.querySelector("#cover-image-input").files[0],o=new FileReader;o.addEventListener("load",function(){e.src=o.result},!1),n&&o.readAsDataURL(n)});(function(){var e=document.querySelectorAll(".needs-validation"),n=new Date().toUTCString().slice(5,16);Array.prototype.slice.call(e).forEach(function(o){o.addEventListener("submit",function(t){if(!o.checkValidity())t.preventDefault(),t.stopPropagation();else{t.preventDefault();var r=document.getElementById("jobtitle-field").value,a=document.getElementById("companyname-field").value,c=document.getElementById("companylogo-img").src,s=document.getElementById("modal-cover-img").src,d=document.getElementById("job_type-field").value,p=document.getElementById("experience-field").value,g=document.getElementById("location-field").value,I=document.getElementById("description-field").value,w=b.getValue(!0);if(r!==""&&a!==""&&d!==""&&g!==""&&g!==""){var B=k(),S={id:B,coverImg:s,companyLogo:c,jobTitle:r,companyName:a,description:I,tags:w,type:d,experience:p,location:g,applied:"0 Applied",postDate:n};l.push(S),h()}u(l,i),document.getElementById("close-jobListModal").click()}o.classList.add("was-validated")},!1)})})();function v(e){return parseInt(e.id)}function k(){if(l.length===0)return 0;var e=v(l[l.length-1]),n=v(l[0]);return n>=e?n+1:e+1}function h(){var e=l.sort(function(n,o){var t=v(n),r=v(o);return t>r?-1:t<r?1:0});u(e,i)}function P(){Array.from(document.querySelectorAll("#job-list .joblist-card")).forEach(function(e){e.querySelector(".viewjob-list").addEventListener("click",function(){var n=e.querySelector(".cover-img").src,o=e.querySelector(".companyLogo-img").src,t=e.querySelector(".job-title").innerHTML,r=e.querySelector(".company-name").innerHTML,a=e.querySelector(".job-description").innerHTML,c=e.querySelector(".job-type").innerHTML,s=e.querySelector(".job-location").innerHTML,d=e.querySelector(".job-postdate").innerHTML,p=e.querySelector(".job-experience").innerHTML;document.querySelector("#cover-img").src=n,document.querySelector("#job-overview .view-companylogo").src=o,document.querySelector("#job-overview .view-title").innerHTML=t,document.querySelector("#job-overview .view-companyname").innerHTML=r,document.querySelector("#job-overview .view-location").innerHTML=s,document.querySelector("#job-overview .view-desc").innerHTML=a,document.querySelector("#job-overview .view-type").innerHTML=c,document.querySelector("#job-overview .view-postdate").innerHTML=d,document.querySelector("#job-overview .view-experience").innerHTML=p})})}var E=document.getElementById("searchJob");E.addEventListener("keyup",function(){var e=E.value.toLowerCase();function n(c,s){return c.filter(function(d){return d.jobTitle.toLowerCase().indexOf(s.toLowerCase())!==-1||d.companyName.toLowerCase().indexOf(s.toLowerCase())!==-1})}var o=n(l,e);e.length>0?document.getElementById("found-job-alert").classList.remove("d-none"):document.getElementById("found-job-alert").classList.add("d-none"),o.length==0?document.getElementById("pagination-element").style.display="none":document.getElementById("pagination-element").style.display="flex";var t=document.getElementById("page-num");t.innerHTML="";for(var r=Math.ceil(o.length/m),a=1;a<r+1;a++)t.innerHTML+="<div class='page-item'><a class='page-link clickPageNumber' href='javascript:void(0);'>"+a+"</a></div>";u(o,i)});function A(){document.getElementById("companylogo-img").src="build/images/users/multi-user.jpg",document.getElementById("jobtitle-field").value="",document.getElementById("companyname-field").value="",document.getElementById("job_type-field").value="Full Time",document.getElementById("experience-field").value="",document.getElementById("location-field").value="",document.getElementById("Salary-field").value="",document.getElementById("description-field").value="",b.removeActiveItems(),b.setChoiceByValue(""),document.getElementById("createjob-form").classList.remove("was-validated")}document.getElementById("CreateJobModal").addEventListener("hidden.bs.modal",e=>{A()});
