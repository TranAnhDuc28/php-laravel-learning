var b=document.querySelectorAll(".team-list");if(b){var y=document.querySelectorAll(".filter-button");y&&Array.from(y).forEach(function(e){e.addEventListener("click",S)})}function S(e){e.target.id==="list-view-button"||e.target.parentElement.id==="list-view-button"?(document.getElementById("list-view-button").classList.add("active"),document.getElementById("grid-view-button").classList.remove("active"),Array.from(b).forEach(function(t){t.classList.add("list-view-filter"),t.classList.remove("grid-view-filter")})):(document.getElementById("grid-view-button").classList.add("active"),document.getElementById("list-view-button").classList.remove("active"),Array.from(b).forEach(function(t){t.classList.remove("list-view-filter"),t.classList.add("grid-view-filter")}))}var M="build/json/",n="";fetch(M+"team-member-list.json").then(e=>e.json()).then(e=>{n=e,a(n)}).catch(e=>console.error(e));function a(e){document.querySelector("#team-member-list").innerHTML="",Array.from(e).forEach(function(t,i){var r=t.bookmark?"active":"",o=t.memberImg?'<img src="'+t.memberImg+'" alt="" class="member-img img-fluid d-block rounded-circle" />':'<div class="avatar-title border bg-light text-primary rounded-circle text-uppercase">'+t.nickname+"</div>";document.querySelector("#team-member-list").innerHTML+='<div class="col">            <div class="card team-box">                <div class="team-cover">                    <img src="'+t.coverImg+'" alt="" class="img-fluid" />                </div>                <div class="card-body p-4">                    <div class="row align-items-center team-row">                        <div class="col team-settings">                            <div class="row">                                <div class="col">                                    <div class="flex-shrink-0 me-2">                                        <button type="button" class="btn btn-light btn-icon rounded-circle btn-sm favourite-btn '+r+'">                                            <i class="ri-star-fill fs-14"></i>                                        </button>                                    </div>                                </div>                                <div class="col text-end dropdown">                                    <a href="javascript:void(0);" data-bs-toggle="dropdown" aria-expanded="false">                                        <i class="ri-more-fill fs-17"></i>                                    </a>                                    <ul class="dropdown-menu dropdown-menu-end">                                        <li><a class="dropdown-item edit-list" href="#addmemberModal"  data-bs-toggle="modal" data-edit-id="'+t.id+'"><i class="ri-pencil-line me-2 align-bottom text-muted"></i>Edit</a></li>                                        <li><a class="dropdown-item remove-list" href="#removeMemberModal" data-bs-toggle="modal" data-remove-id="'+t.id+'"><i class="ri-delete-bin-5-line me-2 align-bottom text-muted"></i>Remove</a></li>                                    </ul>                                </div>                            </div>                        </div>                        <div class="col-lg-4 col">                            <div class="team-profile-img">                                <div class="avatar-lg img-thumbnail rounded-circle flex-shrink-0">'+o+'</div>                                <div class="team-content">                                    <a class="member-name" data-bs-toggle="offcanvas" href="#member-overview" aria-controls="member-overview">                                        <h5 class="fs-16 mb-1">'+t.memberName+'</h5>                                    </a>                                    <p class="text-muted member-designation mb-0">'+t.position+'</p>                                </div>                            </div>                        </div>                        <div class="col-lg-4 col">                            <div class="row text-muted text-center">                                <div class="col-6 border-end border-end-dashed">                                    <h5 class="mb-1 projects-num">'+t.projects+'</h5>                                    <p class="text-muted mb-0">Projects</p>                                </div>                                <div class="col-6">                                    <h5 class="mb-1 tasks-num">'+t.tasks+'</h5>                                    <p class="text-muted mb-0">Tasks</p>                                </div>                            </div>                        </div>                        <div class="col-lg-2 col">                            <div class="text-end">                                <a href="pages-profile" class="btn btn-light view-btn">View Profile</a>                            </div>                        </div>                    </div>                </div>            </div>        </div>',E(),q(),x(),T()})}function E(){Array.from(document.querySelectorAll(".favourite-btn")).forEach(function(e){e.addEventListener("click",function(){e.classList.contains("active")?e.classList.remove("active"):e.classList.add("active")})})}E();var d=!1;document.querySelector("#member-image-input").addEventListener("change",function(){var e=document.querySelector("#member-img"),t=document.querySelector("#member-image-input").files[0],i=new FileReader;i.addEventListener("load",function(){e.src=i.result},!1),t&&i.readAsDataURL(t)});function q(){var e=0;Array.from(document.querySelectorAll(".edit-list")).forEach(function(t){t.addEventListener("click",function(i){e=t.getAttribute("data-edit-id"),n=n.map(function(r){return r.id==e&&(d=!0,document.getElementById("createMemberLabel").innerHTML="Edit Member",document.getElementById("addNewMember").innerHTML="Save",r.memberImg==""?document.getElementById("member-img").src="build/images/users/user-dummy-img.jpg":document.getElementById("member-img").src=r.memberImg,document.getElementById("cover-img").src=r.coverImg,document.getElementById("memberid-input").value=r.id,document.getElementById("teammembersName").value=r.memberName,document.getElementById("designation").value=r.position,document.getElementById("project-input").value=r.projects,document.getElementById("task-input").value=r.tasks,document.getElementById("memberlist-form").classList.remove("was-validated")),r})})})}document.querySelector("#cover-image-input").addEventListener("change",function(){var e=document.querySelector("#cover-img"),t=document.querySelector("#cover-image-input").files[0],i=new FileReader;i.addEventListener("load",function(){e.src=i.result},!1),t&&i.readAsDataURL(t)});Array.from(document.querySelectorAll(".addMembers-modal")).forEach(function(e){e.addEventListener("click",function(t){document.getElementById("createMemberLabel").innerHTML="Add New Members",document.getElementById("addNewMember").innerHTML="Add Member",document.getElementById("teammembersName").value="",document.getElementById("designation").value="",document.getElementById("cover-img").src="build/images/small/img-9.jpg",document.getElementById("member-img").src="build/images/users/user-dummy-img.jpg",document.getElementById("memberlist-form").classList.remove("was-validated")})});(function(){var e=document.querySelectorAll(".needs-validation");Array.prototype.slice.call(e).forEach(function(t){t.addEventListener("submit",function(i){if(!t.checkValidity())i.preventDefault(),i.stopPropagation();else{i.preventDefault();var r=document.getElementById("teammembersName").value,o=document.getElementById("designation").value,m=document.getElementById("member-img").src,l=document.getElementById("cover-img").src,c=m.substring(m.indexOf("/as")+1),u;c=="build/images/users/user-dummy-img.jpg"?u="":u=m;var L=r,I=L.match(/\b(\w)/g),w=I.join(""),g=w.substring(0,2);if(r!==""&&o!==""&&!d){var h=A(),k={id:h,coverImg:l,bookmark:!1,memberImg:u,nickname:g,memberName:r,position:o,projects:"0",tasks:"0"};n.push(k),j()}else if(r!==""&&o!==""&&d){var v=0;v=document.getElementById("memberid-input").value,n=n.map(function(f){if(f.id==v){var B={id:v,coverImg:l,bookmark:f.bookmark,memberImg:m,nickname:g,memberName:r,position:o,projects:document.getElementById("project-input").value,tasks:document.getElementById("task-input").value};return B}return f}),d=!1}a(n),document.getElementById("createMemberBtn-close").click()}t.classList.add("was-validated")},!1)})})();function s(e){return parseInt(e.id)}function A(){if(n.length===0)return 0;var e=s(n[n.length-1]),t=s(n[0]);return t>=e?t+1:e+1}function j(){var e=n.sort(function(t,i){var r=s(t),o=s(i);return r>o?-1:r<o?1:0});a(e)}function x(){var e=0;Array.from(document.querySelectorAll(".remove-list")).forEach(function(t){t.addEventListener("click",function(i){e=t.getAttribute("data-remove-id"),document.getElementById("remove-item").addEventListener("click",function(){function r(m,l){return m.filter(function(c){return c.id!=l})}var o=r(n,e);n=o,a(n),document.getElementById("close-removeMemberModal").click()})})})}function T(){Array.from(document.querySelectorAll(".team-box")).forEach(function(e){e.querySelector(".member-name").addEventListener("click",function(){var t=e.querySelector(".member-name h5").innerHTML,i=e.querySelector(".member-designation").innerHTML,r;e.querySelector(".member-img")?r=e.querySelector(".member-img").src:r="build/images/users/user-dummy-img.jpg";var o=e.querySelector(".team-cover img").src,m=e.querySelector(".projects-num").innerHTML,l=e.querySelector(".tasks-num").innerHTML;document.querySelector("#member-overview .profile-img").src=r,document.querySelector("#member-overview .team-cover img").src=o,document.querySelector("#member-overview .profile-name").innerHTML=t,document.querySelector("#member-overview .profile-designation").innerHTML=i,document.querySelector("#member-overview .profile-project").innerHTML=m,document.querySelector("#member-overview .profile-task").innerHTML=l})})}var p=document.getElementById("searchMemberList");p.addEventListener("keyup",function(){var e=p.value.toLowerCase();function t(r,o){return r.filter(function(m){return m.memberName.toLowerCase().indexOf(o.toLowerCase())!==-1||m.position.toLowerCase().indexOf(o.toLowerCase())!==-1})}var i=t(n,e);i.length==0?(document.getElementById("noresult").style.display="block",document.getElementById("teamlist").style.display="none"):(document.getElementById("noresult").style.display="none",document.getElementById("teamlist").style.display="block"),a(i)});
